import os
import json

# Define the folder containing the JSON files
folder_path = r"E:\PythonProjects\NFT\nft_folder"

# Iterate through each file in the folder
for filename in os.listdir(folder_path):
    if filename.endswith('.json'):
        file_path = os.path.join(folder_path, filename)
        
        with open(file_path, 'r') as file:
            data = json.load(file)
        
        # Remove unwanted fields
        if 'compiler' in data:
            del data['compiler']
        if 'creators' in data:
            del data['creators']
        if 'external_url' in data:
            del data['external_url']
        
        # Update the 'image' field
        if 'image' in data:
            image_filename = data['image']
            data['image'] = f"ipfs://YOUR_CID_HERE/{image_filename}"
        
        # Modify the 'properties' field
        if 'properties' in data:
            data['properties'] = {}
        
        with open(file_path, 'w') as file:
            json.dump(data, file, indent=2)
        
        print(f"Processed {filename}")

print("All files processed.")
